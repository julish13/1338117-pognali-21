"use strict";function initMap(){const e={lat:59.938891,lng:30.323037},t=document.querySelector(".map"),s=t.querySelector("#pin");t.classList.remove("map--nojs"),s.classList.add("visually-hidden");const n=new google.maps.Map(document.querySelector("#map"),{zoom:14,center:e,disableDefaultUI:!0}),l=()=>window.matchMedia("(min-width: 768px)").matches?56:41,o={url:"img/map-marker.svg",scaledSize:new google.maps.Size(l(),l()),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(0,0)};new google.maps.Marker({position:e,map:n,icon:o})}document.querySelectorAll(".level").forEach((e=>{const t=e.querySelector("circle"),s=2*t.r.baseVal.value*Math.PI;t.style.strokeDasharray=`${s} ${s}`,t.style.strokeDashoffset=`${s}`,(e=>{const n=s+5-e/100*s;t.style.strokeDashoffset=n})(Number(e.querySelector(".level__value").textContent))})),(()=>{const e=document.querySelector(".main-nav");window.onscroll=()=>{window.scrollY>=e.offsetHeight?e.classList.add("main-nav--scrolled"):e.classList.remove("main-nav--scrolled")}})(),(()=>{const e=document.querySelector(".main-nav"),t=e.querySelector(".main-nav__toggle"),s=()=>{e.classList.add("main-nav--closed")};e.classList.remove("main-nav--nojs"),s(),t.addEventListener("click",(()=>{e.classList.contains("main-nav--closed")?(e.classList.remove("main-nav--closed"),e.classList.add("main-nav--opened")):(e.classList.remove("main-nav--opened"),s())}))})(),(()=>{if(document.querySelector(".select-country--choose")){const e=document.querySelector(".select-country--choose"),t=e.querySelector(".select-country__input"),s=e.querySelector(".select-country__toggle"),n=()=>{e.classList.contains("select-country--open")?e.classList.remove("select-country--open"):e.classList.add("select-country--open")};t.addEventListener("click",n),s.addEventListener("click",n)}})(),(()=>{if(document.querySelectorAll(".planning-dates-option__wrap")){const e=document.querySelectorAll(".planning-dates-option__wrap");for(const t of e){const e=t.querySelector(".planning-dates-option__input"),s=t.querySelector(".planning-dates-option__button--minus"),n=t.querySelector(".planning-dates-option__button--plus");s.addEventListener("click",(()=>{e.value>1&&e.value<=100&&(e.value=Math.floor(e.value)-1)})),n.addEventListener("click",(()=>{e.value>0&&e.value<100&&(e.value=Math.floor(e.value)+1)}))}}})(),(()=>{if(document.querySelector(".planning")){const e=document.querySelector(".planning"),t=e.querySelectorAll(".slider__slide"),s=e.querySelector(".planning-states--no-text").querySelectorAll(".planning-states__state");for(let n=0;n<t.length;n++){const l=t[n];l.classList.remove("slider__slide--nojs");const o=l.querySelector(".planning__button--next"),i=l.querySelector(".planning__button--previous");o&&o.addEventListener("click",(o=>{o.preventDefault(),l.classList.remove("slider__slide--active"),s[n].classList.remove("planning-states__state--active"),t[n+1].classList.add("slider__slide--active"),s[n+1].classList.add("planning-states__state--active"),e.scrollIntoView()})),i&&i.addEventListener("click",(o=>{o.preventDefault(),l.classList.remove("slider__slide--active"),s[n].classList.remove("planning-states__state--active"),t[n-1].classList.add("slider__slide--active"),s[n-1].classList.add("planning-states__state--active"),e.scrollIntoView()}))}}})(),(()=>{const e="Escape",t="Enter";if(document.querySelector(".modal")){const s=document.querySelector(".pricing__link"),n=document.querySelector(".modal"),l=n.querySelector(".modal__close"),o=()=>{n.classList.remove("modal--show"),l.removeEventListener("click",o),document.removeEventListener("keydown",i)},i=t=>{t.key===e&&(t.preventDefault(),o())},c=e=>{e.preventDefault(),n.classList.add("modal--show"),l.addEventListener("click",o),document.addEventListener("keydown",i)},r=e=>{e.key===t&&c(e)};s.addEventListener("click",c),s.addEventListener("keydown",r)}})(),(()=>{if(document.querySelector(".filter-countries")){const e=document.querySelector(".filter-countries"),t=e.querySelector(".filter-countries__toggle"),s=e.querySelector(".filter-countries__button");e.classList.remove("filter-countries--nojs"),e.classList.add("filter-countries--closed");const n=()=>{e.classList.contains("filter-countries--opened")?(e.classList.remove("filter-countries--opened"),e.classList.add("filter-countries--closed"),t.textContent="Показать все"):(e.classList.remove("filter-countries--closed"),e.classList.add("filter-countries--opened"),t.textContent="Свернуть")};t.addEventListener("click",n),s.addEventListener("click",n)}})(),(()=>{const e=32;if(document.querySelectorAll(".filter-personality-field")){const t=document.querySelectorAll(".filter-personality-field");for(const s of t){const t=s.querySelector(".filter-personality-field__header");s.classList.remove("filter-personality-field--nojs"),s.classList.add("filter-personality-field--closed");const n=()=>{s.classList.contains("filter-personality-field--opened")?(s.classList.remove("filter-personality-field--opened"),s.classList.add("filter-personality-field--closed")):(s.classList.remove("filter-personality-field--closed"),s.classList.add("filter-personality-field--opened"))};t.addEventListener("click",n),t.addEventListener("keydown",(t=>{t.keyCode===e&&(t.preventDefault(),n())}))}}})();
//# sourceMappingURL=script.min.js.map