{"version":3,"sources":["level.js","index/map.js","menu-scroll.js","menu-toggle.js","form/dropdown.js","form/planning-dates-option.js","form/slider.js","index/modal.js","catalog/countries-dropdown.js","catalog/personality-dropdown.js"],"names":["initMap","LOCATION","lat","lng","mapElement","document","querySelector","mapPinElement","classList","remove","add","map","google","maps","Map","zoom","center","disableDefaultUI","getPinSize","window","matchMedia","matches","icon","url","scaledSize","Size","origin","Point","anchor","Marker","position","querySelectorAll","forEach","levelElement","circleElement","circumference","r","baseVal","value","Math","PI","style","strokeDasharray","strokeDashoffset","percent","offset","setProgress","Number","textContent","mainNavElement","onscroll","scrollY","offsetHeight","toggleElement","setClosedMenuState","addEventListener","contains","countryElement","inputElement","onClickDropdownFunction","optionsCollection","option","input","minus","plus","floor","planningElement","slidesCollection","indicatorsCollection","i","length","slideElement","nextButton","previousButton","evt","preventDefault","scrollIntoView","EVENT_KEYS","pricingLinkElement","modalElement","modalCloseButton","onClickClosePopup","removeEventListener","onPopupEscPress","key","onClickOpenPopup","onLinkEnterPressOpenPopup","filterCountriesElement","closeButtonElement","fieldElementsCollection","fieldElement","headerElement","keyCode"],"mappings":"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","file":"script.min.js","sourcesContent":["\"use strict\";\n\n(() => {\n  const DESIGN_ADJUSTMENT = 5;\n\n  const levelElementsCollection = document.querySelectorAll(`.level`);\n\n  levelElementsCollection.forEach((levelElement) => {\n    const circleElement = levelElement.querySelector(`circle`);\n    const radius = circleElement.r.baseVal.value;\n    const circumference = radius * 2 * Math.PI;\n\n    circleElement.style.strokeDasharray = `${circumference} ${circumference}`;\n    circleElement.style.strokeDashoffset = `${circumference}`;\n\n    const setProgress = (percent) => {\n      const offset =\n        circumference + DESIGN_ADJUSTMENT - (percent / 100) * circumference;\n      circleElement.style.strokeDashoffset = offset;\n    };\n\n    const levelValue = Number(\n      levelElement.querySelector(`.level__value`).textContent\n    );\n    setProgress(levelValue);\n  });\n})();\n","function initMap() {\n  const TABLET_WIDTH = 768;\n  const MOBILE_PIN_SIZE = 41;\n  const TABLET_PIN_SIZE = 56;\n  const LOCATION = { lat: 59.938891, lng: 30.323037 };\n\n  const mapElement = document.querySelector(`.map`);\n  const mapPinElement = mapElement.querySelector(`#pin`);\n\n  mapElement.classList.remove(`map--nojs`);\n  mapPinElement.classList.add(`visually-hidden`);\n\n  const map = new google.maps.Map(document.querySelector(`#map`), {\n    zoom: 14,\n    center: LOCATION,\n    disableDefaultUI: true,\n  });\n\n  const getPinSize = () => {\n    if (window.matchMedia(`(min-width: ${TABLET_WIDTH}px)`).matches) {\n      return TABLET_PIN_SIZE;\n    }\n    return MOBILE_PIN_SIZE;\n  };\n\n  const icon = {\n    url: `img/map-marker.svg`,\n    scaledSize: new google.maps.Size(getPinSize(), getPinSize()),\n    origin: new google.maps.Point(0, 0),\n    anchor: new google.maps.Point(0, 0),\n  };\n\n  const marker = new google.maps.Marker({\n    position: LOCATION,\n    map,\n    icon,\n  });\n}\n","\"use strict\";\n\n(() => {\n  const mainNavElement = document.querySelector(`.main-nav`);\n\n  window.onscroll = () => {\n    if (window.scrollY >= mainNavElement.offsetHeight) {\n      mainNavElement.classList.add(`main-nav--scrolled`);\n    } else {\n      mainNavElement.classList.remove(`main-nav--scrolled`);\n    }\n  };\n})();\n","\"use strict\";\n\n(() => {\n  const mainNavElement = document.querySelector(`.main-nav`);\n  const toggleElement = mainNavElement.querySelector(`.main-nav__toggle`);\n\n\n  const setClosedMenuState = () => {\n    mainNavElement.classList.add(`main-nav--closed`);\n  };\n\n  const setOpenedMenuState = () => {\n    mainNavElement.classList.add(`main-nav--opened`);\n  };\n\n  mainNavElement.classList.remove(`main-nav--nojs`);\n  setClosedMenuState();\n\n  toggleElement.addEventListener(`click`, () => {\n    if (mainNavElement.classList.contains(`main-nav--closed`)) {\n      mainNavElement.classList.remove(`main-nav--closed`);\n      setOpenedMenuState();\n    } else {\n      mainNavElement.classList.remove(`main-nav--opened`);\n      setClosedMenuState();\n    }\n  });\n})();\n","\"use strict\";\n\n(() => {\n  if (document.querySelector(`.select-country--choose`)) {\n    const countryElement = document.querySelector(`.select-country--choose`);\n    const inputElement = countryElement.querySelector(`.select-country__input`);\n    const toggleElement = countryElement.querySelector(\n      `.select-country__toggle`\n    );\n\n    const onClickDropdownFunction = () => {\n      if (!countryElement.classList.contains(`select-country--open`)) {\n        countryElement.classList.add(`select-country--open`);\n      } else {\n        countryElement.classList.remove(`select-country--open`);\n      }\n    };\n\n    inputElement.addEventListener(`click`, onClickDropdownFunction);\n    toggleElement.addEventListener(`click`, onClickDropdownFunction);\n  }\n})();\n","\"use strict\";\n\n(() => {\n  if (document.querySelectorAll(`.planning-dates-option__wrap`)) {\n    const optionsCollection = document.querySelectorAll(\n      `.planning-dates-option__wrap`\n    );\n\n    for (const option of optionsCollection) {\n      const input = option.querySelector(`.planning-dates-option__input`);\n      const minus = option.querySelector(\n        `.planning-dates-option__button--minus`\n      );\n      const plus = option.querySelector(`.planning-dates-option__button--plus`);\n\n      minus.addEventListener(`click`, () => {\n        if (input.value > 1 && input.value <= 100) {\n          input.value = Math.floor(input.value) - 1;\n        }\n      });\n\n      plus.addEventListener(`click`, () => {\n        if (input.value > 0 && input.value < 100) {\n          input.value = Math.floor(input.value) + 1;\n        }\n      });\n    }\n  }\n})();\n","\"use strict\";\n\n(() => {\n  if (document.querySelector(`.planning`)) {\n    const planningElement = document.querySelector(`.planning`);\n    const slidesCollection = planningElement.querySelectorAll(`.slider__slide`);\n    const indicatorsElement = planningElement.querySelector(\n      `.planning-states--no-text`\n    );\n    const indicatorsCollection = indicatorsElement.querySelectorAll(\n      `.planning-states__state`\n    );\n\n    for (let i = 0; i < slidesCollection.length; i++) {\n      const slideElement = slidesCollection[i];\n\n      slideElement.classList.remove(`slider__slide--nojs`);\n\n      const nextButton = slideElement.querySelector(`.planning__button--next`);\n      const previousButton = slideElement.querySelector(\n        `.planning__button--previous`\n      );\n\n      if (nextButton) {\n        nextButton.addEventListener(`click`, (evt) => {\n          evt.preventDefault();\n          slideElement.classList.remove(`slider__slide--active`);\n          indicatorsCollection[i].classList.remove(\n            `planning-states__state--active`\n          );\n          slidesCollection[i + 1].classList.add(`slider__slide--active`);\n          indicatorsCollection[i + 1].classList.add(\n            `planning-states__state--active`\n          );\n          planningElement.scrollIntoView();\n        });\n      }\n\n      if (previousButton) {\n        previousButton.addEventListener(`click`, (evt) => {\n          evt.preventDefault();\n          slideElement.classList.remove(`slider__slide--active`);\n          indicatorsCollection[i].classList.remove(\n            `planning-states__state--active`\n          );\n          slidesCollection[i - 1].classList.add(`slider__slide--active`);\n          indicatorsCollection[i - 1].classList.add(\n            `planning-states__state--active`\n          );\n          planningElement.scrollIntoView();\n        });\n      }\n    }\n  }\n})();\n","\"use strict\";\n\n(() => {\n  const EVENT_KEYS = {\n    ESC: `Escape`,\n    ENTER: `Enter`,\n  };\n\n  if (document.querySelector(`.modal`)) {\n    const pricingLinkElement = document.querySelector(`.pricing__link`);\n    const modalElement = document.querySelector(`.modal`);\n    const modalCloseButton = modalElement.querySelector(`.modal__close`);\n\n    const onClickClosePopup = () => {\n      modalElement.classList.remove(`modal--show`);\n      modalCloseButton.removeEventListener(`click`, onClickClosePopup);\n      document.removeEventListener(`keydown`, onPopupEscPress);\n    };\n\n    const onPopupEscPress = (evt) => {\n      if (evt.key === EVENT_KEYS.ESC) {\n        evt.preventDefault();\n        onClickClosePopup();\n      }\n    };\n\n    const onClickOpenPopup = (evt) => {\n      evt.preventDefault();\n      modalElement.classList.add(`modal--show`);\n      modalCloseButton.addEventListener(`click`, onClickClosePopup);\n      document.addEventListener(`keydown`, onPopupEscPress);\n    };\n\n    const onLinkEnterPressOpenPopup = (evt) => {\n      if (evt.key === EVENT_KEYS.ENTER) {\n        onClickOpenPopup(evt);\n      }\n    };\n\n    pricingLinkElement.addEventListener(`click`, onClickOpenPopup);\n    pricingLinkElement.addEventListener(`keydown`, onLinkEnterPressOpenPopup);\n  }\n})();\n","\"use strict\";\n\n(() => {\n  if (document.querySelector(`.filter-countries`)) {\n    const filterCountriesElement = document.querySelector(`.filter-countries`);\n    const toggleElement = filterCountriesElement.querySelector(\n      `.filter-countries__toggle`\n    );\n    const closeButtonElement = filterCountriesElement.querySelector(\n      `.filter-countries__button`\n    );\n\n    filterCountriesElement.classList.remove(`filter-countries--nojs`);\n    filterCountriesElement.classList.add(`filter-countries--closed`);\n\n    const onClickDropdownFunction = () => {\n      if (\n        !filterCountriesElement.classList.contains(`filter-countries--opened`)\n      ) {\n        filterCountriesElement.classList.remove(`filter-countries--closed`);\n        filterCountriesElement.classList.add(`filter-countries--opened`);\n        toggleElement.textContent = `Свернуть`;\n      } else {\n        filterCountriesElement.classList.remove(`filter-countries--opened`);\n        filterCountriesElement.classList.add(`filter-countries--closed`);\n        toggleElement.textContent = `Показать все`;\n      }\n    };\n\n    toggleElement.addEventListener(`click`, onClickDropdownFunction);\n    closeButtonElement.addEventListener(`click`, onClickDropdownFunction);\n  }\n})();\n","\"use strict\";\n\n(() => {\n  const EVENT_KEYS = {\n    SPACE: 32,\n  };\n\n  if (document.querySelectorAll(`.filter-personality-field`)) {\n    const fieldElementsCollection = document.querySelectorAll(\n      `.filter-personality-field`\n    );\n\n    for (const fieldElement of fieldElementsCollection) {\n      const headerElement = fieldElement.querySelector(\n        `.filter-personality-field__header`\n      );\n\n      fieldElement.classList.remove(`filter-personality-field--nojs`);\n      fieldElement.classList.add(`filter-personality-field--closed`);\n\n      const onClickDropdownFunction = () => {\n        if (\n          !fieldElement.classList.contains(`filter-personality-field--opened`)\n        ) {\n          fieldElement.classList.remove(`filter-personality-field--closed`);\n          fieldElement.classList.add(`filter-personality-field--opened`);\n        } else {\n          fieldElement.classList.remove(`filter-personality-field--opened`);\n          fieldElement.classList.add(`filter-personality-field--closed`);\n        }\n      };\n\n      headerElement.addEventListener(`click`, onClickDropdownFunction);\n      headerElement.addEventListener(`keydown`, (evt) => {\n        if (evt.keyCode === EVENT_KEYS.SPACE) {\n          evt.preventDefault();\n          onClickDropdownFunction();\n        }\n      });\n    }\n  }\n})();\n"]}